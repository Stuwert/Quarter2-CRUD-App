extends ../layout

block content
  +booksauthorsnav('books')
  main.allbooks
    h2 Books (#{length})
    h5= books.length > 1 ? "Displaying " + books.length + " Books" : "Displaying " + books.length + " Book"
    div.options
      - var i = 1
      ul.view
        while i <= pages 
          li
            a(href='/books?page=' + i)= i++
      ul.filter
        li Filter
        li 
          a(href='/books/filter?genre=Javascript') Javascript 
        li 
          a(href='/books/filter?genre=Python') Python
    
    each book in books 
      div.book
        img(src=book.image)
        div.details 
          h3
            a(href='/books/' + book.id)= book.title 
          p
            a(href='/books/filter?genre=' + book.genre)= book.genre
          ul.authors 
            each item, i in book.authors 
              li
                a(href='/authors/' + item.id)= item.name 
              if i !== book.authors.length - 1 
                li &
          p= book.description 
        div.editdelete
          a(href='/books/' + book.id + '/edit')
            button Edit 
          a(href='/books/' + book.id + '/delete')
            button Delete
    a.addBook(href='/books/new')
      button.addBook Create New Book
    
        
        
        
        
        
        
        
